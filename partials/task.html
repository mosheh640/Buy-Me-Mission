
<div class="widget-box" id="recent-box" ng-controller="tasksController">
    <div class="widget-header header-color-orange">
        <div class="row">
            <div class="col-sm-3">
                <button ng-click="addNewClicked = !addNewClicked;" class="btn btn-sm btn-danger header-elements-margin"><i class="glyphicon  glyphicon-plus"></i></button>
            </div>
            <div class="col-sm-6">
                <h4 class="bigger lighter">
                    משימות
                </h4>
            </div>


        </div>
    </div>
    <div class="widget-body ">
        <form ng-init="addNewClicked = false;" ng-if="addNewClicked" id="newTaskForm" class="add-task">
            <div class="form-actions">
                <div class="input-group">
                    <input type="text" class="form-control" name="comment" ng-model="taskInput" placeholder="Add New Task" ng-focus="addNewClicked">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit" ng-click="addTask(taskInput)"><i class="glyphicon glyphicon-plus"></i>&nbsp;הוסף משימה</button>
                    </div>
                </div>
            </div>
        </form>
        <div class="task">
            <label class="checkbox" ng-repeat="task in tasks track by $index">
                <input 
                    type="checkbox"
                    value="{{task.STATUS}}"
                    ng-checked="task.STATUS == 2"
                    ng-click="toggleStatus(task.ID, task.STATUS, task.TASK)"/>

                <input class="rigt_input"
                       type="text"
                       ng-model="task.TASK"
                       ng-class="{strike:task.STATUS == 2}"
                       ng-blur="changeTask(task.ID, task.TASK)"
                       />
                <a ng-click="deleteTask(task.ID)" class="pull-left"><i class="glyphicon glyphicon-remove"></i></a>
            </label>
        </div>
        <div class="final">
            <div class="to_final">
                לסיום: {{countUndone()}}         
            </div>
            <div class="done">
                הושלמו: {{tasks.length - countUndone()}}          
            </div>
            <div class="total">
                סה״כ:{{ tasks.length}}
            </div>